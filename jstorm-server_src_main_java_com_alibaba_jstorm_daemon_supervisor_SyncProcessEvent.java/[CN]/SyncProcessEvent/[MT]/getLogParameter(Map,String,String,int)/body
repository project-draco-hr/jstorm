{
  String logFileName=JStormUtils.genLogName(topologyName,port);
  StringBuilder commandSB=new StringBuilder();
  commandSB.append(" -Dlogfile.name=");
  commandSB.append(logFileName);
  String userDefLogConf=ConfigExtension.getUserDefinedLog4jConf(conf);
  String logConf=System.getProperty("log4j.configuration");
  if (StringUtils.isBlank(userDefLogConf) == false) {
    LOG.info("Use user fined log4j conf " + userDefLogConf);
    commandSB.append(" -Dlog4j.configuration=").append(userDefLogConf);
  }
 else   if (StringUtils.isBlank(logConf) == false) {
    commandSB.append(" -Dlog4j.configuration=").append(logConf);
  }
 else   if (StringUtils.isBlank(stormHome) == false) {
    commandSB.append(" -Dlog4j.configuration=File:").append(stormHome).append(File.separator).append("conf").append(File.separator).append("jstorm.log4j.properties");
  }
 else {
    commandSB.append(" -Dlog4j.configuration=File:jstorm.log4j.properties");
  }
  String userDefLogbackConf=ConfigExtension.getUserDefinedLogbackConf(conf);
  if (StringUtils.isBlank(userDefLogbackConf) == false) {
    commandSB.append(" -Dlogback.configurationFile=").append(userDefLogbackConf);
  }
  return commandSB.toString();
}
