{
  super(bufferSize);
  if (Integer.bitCount(pendingBufferSize) != 1) {
    throw new IllegalArgumentException("pendingBufferSize must be a power of 2, was: " + pendingBufferSize);
  }
  this.pendingPublication=new AtomicLongArray(pendingBufferSize);
  this.pendingMask=pendingBufferSize - 1;
}
