{
  lockForRegularUsage();
  try {
    return new WeightedSnapshot(values.values());
  }
  finally {
    unlockForRegularUsage();
  }
}
