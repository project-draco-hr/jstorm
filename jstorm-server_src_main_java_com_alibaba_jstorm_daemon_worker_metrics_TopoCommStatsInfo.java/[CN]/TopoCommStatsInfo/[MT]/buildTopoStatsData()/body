{
  topoStatsData.resetData();
  Double latency=0.0;
  for (  Entry<String,CommStatsData> spoutEntry : spoutStatsDataMap.entrySet()) {
    CommStatsData statsData=spoutEntry.getValue();
    topoStatsData.updateSendTps(statsData.getSendTps());
    topoStatsData.updateRecvTps(statsData.getRecvTps());
    topoStatsData.updateFailed(statsData.getFailed());
    latency+=statsData.getLatency();
  }
  latency=latency / (spoutStatsDataMap.size());
  topoStatsData.updateLatency(latency);
  for (  Entry<String,CommStatsData> boltEntry : boltStatsDataMap.entrySet()) {
    CommStatsData statsData=boltEntry.getValue();
    topoStatsData.updateSendTps(statsData.getSendTps());
    topoStatsData.updateRecvTps(statsData.getRecvTps());
    topoStatsData.updateFailed(statsData.getFailed());
  }
}
