{
  Map<Integer,LocalAssignment> portTasks=new HashMap<Integer,LocalAssignment>();
  Map<Integer,NodePort> taskToNodeport=assignmenInfo.getTaskToNodeport();
  if (taskToNodeport == null) {
    LOG.error("No taskToNodePort of assignement's " + assignmenInfo);
    return portTasks;
  }
  for (  Entry<Integer,NodePort> entry : taskToNodeport.entrySet()) {
    Integer taskId=entry.getKey();
    NodePort nodePort=entry.getValue();
    int port=nodePort.getPort();
    String node=nodePort.getNode();
    if (supervisorId.equals(node) == false) {
      continue;
    }
    if (portTasks.containsKey(port)) {
      LocalAssignment la=portTasks.get(port);
      Set<Integer> taskIds=la.getTaskIds();
      taskIds.add(taskId);
    }
 else {
      Set<Integer> taskIds=new HashSet<Integer>();
      taskIds.add(taskId);
      LocalAssignment la=new LocalAssignment(topologyId,taskIds);
      portTasks.put(port,la);
    }
  }
  return portTasks;
}
