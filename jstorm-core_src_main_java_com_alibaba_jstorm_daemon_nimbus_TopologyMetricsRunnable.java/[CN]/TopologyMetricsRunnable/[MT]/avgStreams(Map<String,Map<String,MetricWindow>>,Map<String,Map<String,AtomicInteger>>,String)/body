{
  if (tagStreamsMetrics == null) {
    return;
  }
  Map<String,MetricWindow> streamMetrics=tagStreamsMetrics.get(tag);
  if (streamMetrics == null) {
    return;
  }
  for (  Entry<String,MetricWindow> entry : streamMetrics.entrySet()) {
    String streamName=entry.getKey();
    MetricWindow metric=entry.getValue();
    AtomicInteger counter=counters.get(tag).get(streamName);
    if (counter == null) {
      continue;
    }
    avgMetricWindow(metric,counter.get());
  }
}
