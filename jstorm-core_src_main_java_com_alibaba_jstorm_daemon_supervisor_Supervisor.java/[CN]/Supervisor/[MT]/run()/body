{
  SupervisorManger supervisorManager=null;
  try {
    Map<Object,Object> conf=Utils.readStormConfig();
    StormConfig.validate_distributed_mode(conf);
    createPid(conf);
    supervisorManager=mkSupervisor(conf,null);
    JStormUtils.redirectOutput("/dev/null");
    initShutdownHook(supervisorManager);
    while (supervisorManager.isFinishShutdown() == false) {
      try {
        Thread.sleep(1000);
      }
 catch (      InterruptedException e) {
      }
    }
  }
 catch (  Exception e) {
    LOG.error("Failed to start supervisor\n",e);
    System.exit(1);
  }
 finally {
    LOG.info("Shutdown supervisor!!!");
  }
}
