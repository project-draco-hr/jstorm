{
  Map<String,SupervisorInfo> supervisors=context.getCluster();
  List<SupervisorInfo> isolationSupervisors=this.getIsolationSupervisors(context);
  int slotNum=0;
  if (isolationSupervisors.size() != 0) {
    for (    SupervisorInfo superivsor : isolationSupervisors) {
      slotNum=slotNum + superivsor.getWorkerPorts().size();
    }
    return Math.min(slotNum,workersNum);
  }
  for (  Entry<String,SupervisorInfo> entry : supervisors.entrySet()) {
    slotNum=slotNum + entry.getValue().getWorkerPorts().size();
  }
  return Math.min(slotNum,workersNum);
}
