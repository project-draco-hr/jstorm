{
  LOG.info(parameterMap.toString());
  String pageType=parameterMap.get(UIDef.PAGE_TYPE);
  if (pageType == null) {
    throw new IllegalArgumentException("Please set " + UIDef.PAGE_TYPE);
  }
  long start=System.nanoTime();
  PageGenerator pageGenerator=UIDef.pageGeneratos.get(pageType);
  if (pageGenerator == null) {
    throw new IllegalArgumentException("Invalid " + UIDef.PAGE_TYPE + ":"+ pageType);
  }
  try {
    PageGenerator.Output output=pageGenerator.generate(parameterMap);
    tables=output.tables;
    pages=output.pages;
    rawData=output.rawData;
  }
  finally {
    long end=System.nanoTime();
    UIMetrics.updateHistorgram(pageGenerator.getClass().getSimpleName(),(end - start) / 1000000.0d);
  }
}
