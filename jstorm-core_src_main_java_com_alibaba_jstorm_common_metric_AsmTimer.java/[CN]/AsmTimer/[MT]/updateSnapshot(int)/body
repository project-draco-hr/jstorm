{
  Timer timer=timerMap.get(window);
  if (timer != null) {
    AsmTimerSnapshot timerSnapshot=new AsmTimerSnapshot();
    timerSnapshot.setHistogram(timer.getSnapshot());
    timerSnapshot.setMeter(new AsmMeterSnapshot().setM1(timer.getOneMinuteRate()).setM5(timer.getFiveMinuteRate()).setM15(timer.getFifteenMinuteRate()).setMean(timer.getMeanRate()));
    if (metricId > 0) {
      timerSnapshot.setMetricId(metricId);
    }
    timerSnapshot.setTs(System.currentTimeMillis());
    snapshots.put(window,timerSnapshot);
  }
}
