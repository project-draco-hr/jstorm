def write(self, oprot):
    if ((oprot.__class__ == TBinaryProtocol.TBinaryProtocolAccelerated) and (self.thrift_spec is not None) and (fastbinary is not None)):
        oprot.trans.write(fastbinary.encode_binary(self, (self.__class__, self.thrift_spec)))
        return
    oprot.writeStructBegin('MetricInfo')
    if (self.baseMetric is not None):
        oprot.writeFieldBegin('baseMetric', TType.MAP, 1)
        oprot.writeMapBegin(TType.STRING, TType.STRUCT, len(self.baseMetric))
        for (kiter138, viter139) in self.baseMetric.items():
            oprot.writeString(kiter138.encode('utf-8'))
            viter139.write(oprot)
        oprot.writeMapEnd()
        oprot.writeFieldEnd()
    if (self.inputMetric is not None):
        oprot.writeFieldBegin('inputMetric', TType.MAP, 2)
        oprot.writeMapBegin(TType.STRING, TType.MAP, len(self.inputMetric))
        for (kiter140, viter141) in self.inputMetric.items():
            oprot.writeString(kiter140.encode('utf-8'))
            oprot.writeMapBegin(TType.STRING, TType.STRUCT, len(viter141))
            for (kiter142, viter143) in viter141.items():
                oprot.writeString(kiter142.encode('utf-8'))
                viter143.write(oprot)
            oprot.writeMapEnd()
        oprot.writeMapEnd()
        oprot.writeFieldEnd()
    if (self.outputMetric is not None):
        oprot.writeFieldBegin('outputMetric', TType.MAP, 3)
        oprot.writeMapBegin(TType.STRING, TType.MAP, len(self.outputMetric))
        for (kiter144, viter145) in self.outputMetric.items():
            oprot.writeString(kiter144.encode('utf-8'))
            oprot.writeMapBegin(TType.STRING, TType.STRUCT, len(viter145))
            for (kiter146, viter147) in viter145.items():
                oprot.writeString(kiter146.encode('utf-8'))
                viter147.write(oprot)
            oprot.writeMapEnd()
        oprot.writeMapEnd()
        oprot.writeFieldEnd()
    oprot.writeFieldStop()
    oprot.writeStructEnd()
