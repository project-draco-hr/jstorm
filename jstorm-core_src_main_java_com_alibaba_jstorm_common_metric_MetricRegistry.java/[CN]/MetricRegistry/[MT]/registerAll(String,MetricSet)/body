{
  for (  Map.Entry<String,Metric> entry : metrics.getMetrics().entrySet()) {
    if (entry.getValue() instanceof MetricSet) {
      registerAll(name(prefix,entry.getKey()),(MetricSet)entry.getValue());
    }
 else {
      register(name(prefix,entry.getKey()),entry.getValue());
    }
  }
}
