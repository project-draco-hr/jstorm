{
  Map<String,List<Integer>> componentTaskMap=defaultContext.getComponentTasks();
  List<Object> userDefineAssigns=JStormServerConfig.getUserDefineAssignmentFromJson(componentMap);
  if (userDefineAssigns == null) {
    return null;
  }
  List<Integer> componentTasks=componentTaskMap.get(componentName);
  if (componentTasks == null) {
    LOG.warn(componentMap + " no tasks of " + componentName);
    return null;
  }
  int index=componentTasks.indexOf(task);
  if (index < 0) {
    LOG.warn(componentName + " no task of " + task);
    return null;
  }
  if (userDefineAssigns.size() <= index) {
    LOG.info(componentName + " task " + task+ " no user define ResourceAssign");
    return null;
  }
  Object obj=userDefineAssigns.get(index);
  ResourceAssignment userDefineAssign=ResourceAssignment.parseFromObj(obj);
  if (userDefineAssign == null) {
    LOG.info(componentName + " index task " + index+ " isn't ResourceAssignment "+ obj.toString());
    return null;
  }
  ResourceAssignment taskAlloc=normalizeResourceAssignment(defaultContext,userDefineAssign,checkHostname);
  if (taskAlloc == null) {
    LOG.info(componentName + " index task " + index+ " ResourceAssignment is invalid "+ (ResourceAssignment)userDefineAssign);
    return null;
  }
  return taskAlloc;
}
