{
  String cmd="jstack " + pid;
  try {
    LOG.info("Begin to execute " + cmd);
    Process process=JStormUtils.launch_process(cmd,new HashMap<String,String>(),false);
    InputStream stdin=process.getInputStream();
    BufferedReader reader=new BufferedReader(new InputStreamReader(stdin));
    JStormUtils.sleepMs(1000);
    String str;
    while ((str=reader.readLine()) != null) {
      if (StringUtils.isBlank(str)) {
        continue;
      }
      sb.append(str).append("\r\n");
    }
    LOG.info("Successfully get output of " + cmd);
    return;
  }
 catch (  IOException e) {
    LOG.info("Failed to execute " + cmd,e);
    sb.append("Failed to execute " + cmd);
    return;
  }
catch (  Exception e) {
    LOG.error(e.getMessage(),e);
    sb.append("Failed to execute " + cmd + ", "+ e.getCause());
    return;
  }
}
