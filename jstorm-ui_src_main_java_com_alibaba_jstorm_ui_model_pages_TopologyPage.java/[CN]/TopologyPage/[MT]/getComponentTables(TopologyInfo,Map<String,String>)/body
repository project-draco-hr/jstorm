{
  List<ComponentSummary> componentSummaries=topologyInfo.get_components();
  Map<String,MetricInfo> componentMetric=topologyInfo.get_metrics().get_componentMetric();
  List<ComponentSummary> spoutComponentSummary=new ArrayList<ComponentSummary>();
  Map<String,MetricInfo> spoutComponentMetric=new HashMap<String,MetricInfo>();
  List<ComponentSummary> boltComponentSummary=new ArrayList<ComponentSummary>();
  Map<String,MetricInfo> boltComponentMetric=new HashMap<String,MetricInfo>();
  for (  ComponentSummary componentSummary : componentSummaries) {
    String type=componentSummary.get_type();
    String name=componentSummary.get_name();
    if (type.equals(UIDef.BOLT)) {
      boltComponentSummary.add(componentSummary);
      MetricInfo metric=componentMetric.get(name);
      if (metric != null) {
        boltComponentMetric.put(name,metric);
      }
 else {
        LOG.warn("No component metric of " + name);
      }
    }
 else     if (type.equals(UIDef.SPOUT)) {
      spoutComponentSummary.add(componentSummary);
      MetricInfo metric=componentMetric.get(name);
      if (metric != null) {
        spoutComponentMetric.put(name,metric);
      }
 else {
        LOG.warn("No component metric of " + name);
      }
    }
 else {
      LOG.warn("No component type of " + name + ":"+ type);
    }
  }
  String windowStr=paramMap.get(UIDef.WINDOW);
  Integer window=StatBuckets.getTimeKey(windowStr);
  List<TableData> ret=new ArrayList<TableData>();
  TableData spoutTable=UIUtils.getComponentTable(topologyInfo,spoutComponentSummary,spoutComponentMetric,paramMap,window);
  spoutTable.setName(UIDef.SPOUT + "-" + StatBuckets.getShowTimeStr(window));
  ret.add(spoutTable);
  TableData boltTable=UIUtils.getComponentTable(topologyInfo,boltComponentSummary,boltComponentMetric,paramMap,window);
  boltTable.setName(UIDef.BOLT + "-" + StatBuckets.getShowTimeStr(window));
  ret.add(boltTable);
  return ret;
}
