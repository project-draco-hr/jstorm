{
  if (enable == false) {
    return;
  }
  if (st == 0) {
    return;
  }
  EventSampler sampler=spoutAckedSamplers.get(stream);
  if (sampler == null) {
    sampler=new EventSampler(rate);
    spoutAckedSamplers.put(stream,sampler);
  }
  long latency_ms=TimeUtils.time_delta_ms(st);
  Pair<Integer,Double> pair=sampler.avgCheck(latency_ms * 1000);
  if (pair == null) {
    return;
  }
  long avgLatency=(long)((double)pair.getSecond());
  GlobalStreamId key=new GlobalStreamId(Common.ACKER_COMPONENT_ID,stream);
  update_task_stat(StaticsType.acked,key,pair.getFirst());
  update_task_stat(StaticsType.process_latencies,key,avgLatency);
}
