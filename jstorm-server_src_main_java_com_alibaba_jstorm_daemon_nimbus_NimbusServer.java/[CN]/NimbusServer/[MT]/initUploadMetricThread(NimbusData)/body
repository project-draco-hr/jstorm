{
  ScheduledExecutorService scheduleService=data.getScheduExec();
  MetricSendClient client;
  if (ConfigExtension.isAlimonitorMetricsPost(data.getConf())) {
    client=new AlimonitorClient(AlimonitorClient.DEFAUT_ADDR,AlimonitorClient.DEFAULT_PORT,true);
  }
 else {
    client=new MetricSendClient();
  }
  uploadMetric=new UploadMetricFromZK(data,client);
  scheduleService.scheduleWithFixedDelay(uploadMetric,120,60,TimeUnit.SECONDS);
  LOG.info("Successfully init metrics uploading thread");
}
